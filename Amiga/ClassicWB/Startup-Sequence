;Install ClassicWB
;-----------------
;UAE




resident SYS:C/cls PURE

cls



LAB INSTALL

stack 16384
failat 21
SYS:T/Workbench31/C/AddBuffers >NIL: SYS:T/Workbench31/ 200
resident SYS:T/Workbench31/C/Copy PURE
resident SYS:T/Workbench31/C/Delete PURE
resident SYS:T/Workbench31/C/Execute PURE
resident SYS:T/Workbench31/C/Wait PURE


  echo ""
  echo "KickPi-OS ClassicWB installer..."
  wait 3



  cls

  echo ""
  echo "Activating system, please wait..."
  

  execute SYS:S/Activate
  cd SYS:
  delete >NIL: SYS:S/Activate

  

 





LAB PASS

stack 16384
failat 21
SYS:T/Workbench31/C/AddBuffers >NIL: SYS:T/Workbench31/ 200
resident SYS:T/Workbench31/C/Copy PURE
resident SYS:T/Workbench31/C/Delete PURE
resident SYS:T/Workbench31/C/Execute PURE
resident SYS:T/Workbench31/C/Wait PURE



cls

echo ""
echo "Activating system, please wait..."


execute SYS:S/Activate
cd SYS:
delete >NIL: SYS:S/Activate

IF EXISTS SYS:C/LoadWB.temp
  copy SYS:T/Workbench31/C/LoadWB SYS:C/LoadWB.orig CLONE
ELSE
  copy SYS:T/Workbench31/C/LoadWB SYS:C/LoadWB CLONE
ENDIF

copy SYS:T/Science SYS:S CLONE
delete >NIL: SYS:T/Science
delete >NIL: SYS:S/startup-sequence
rename SYS:S/Science SYS:S/Startup-Sequence

IF EXISTS SYS:C/LoadWB.temp
  rename SYS:C/LoadWB.temp SYS:C/LoadWB
ENDIF

delete >NIL: SYS:S/Workbench3.1
delete >NIL: SYS:S/Extras3.1
delete >NIL: SYS:S/Install3.1
delete >NIL: SYS:S/Storage3.1
delete >NIL: SYS:S/Locale3.1

IF EXISTS SYS:T/z
  delete >NIL: SYS:T/z
EndIF
IF EXISTS SYS:T/zz
  delete >NIL: SYS:T/zz
EndIF

IF EXISTS SYS:System/FBlit/FBlit
  copy DH1:MyFiles/Install/A1200ADVSP/Icons/Startup-Sequence30 DH1:MyFiles/Install/A1200ADVSP/Icons/Enable/S/Startup-Sequence CLONE
ELSE
  copy DH1:MyFiles/Install/A4000P96/Icons/Startup-Sequence30 DH1:MyFiles/Install/A4000P96/Icons/Enable/S/Startup-Sequence CLONE
EndIF



LAB OPTIONS

  cd SYS:
  C:MakeDir RAM:T RAM:Clipboards RAM:ENV RAM:ENV/Sys
  copy >NIL: ENVARC: RAM:ENV ALL NOREQ
  C:Assign >NIL: ENV: RAM:ENV

LAB PALETTE


  unzip >NIL: -o SYS:Temp/hicolour.zip -d SYS:
  delete >NIL: SYS:Temp/palette.zip
  delete >NIL: SYS:Temp/hicolour.zip
  SETENV default 3





  cls
  echo ""
  echo "Installing..."
  echo ""
  wait 4
  unzip >NIL: -o SYS:Temp/regen.zip -d SYS:
  echo ""
  echo "Re-Gen Theme installed."
  echo "" 
  IF $default EQ 1
    unzip >NIL: -o SYS:Temp/default.zip -d SYS:
  EndIF
  IF $default EQ 2
    unzip >NIL: -o SYS:Temp/optimized.zip -d SYS:
  EndIF
  IF $default EQ 3
    unzip >NIL: -o SYS:Temp/defaultregen.zip -d SYS:
  EndIF
  delete >NIL: SYS:Temp/retro.zip
  delete >NIL: SYS:Temp/regen.zip
  delete >NIL: SYS:Temp/default.zip
  delete >NIL: SYS:Temp/defaultregen.zip
  delete >NIL: SYS:Temp/defaultretro.zip
  delete >NIL: SYS:Temp/optimized.zip
  delete >NIL: SYS:Temp/oldicons.zip

IF EXISTS SYS:System/FBlit/FBlit 
  copy SYS:Prefs/Env-Archive/Scalos/Scalos.prefs DH1:MyFiles/Install/A1200ADVSP/Icons/Enable/Prefs/Env-Archive/Scalos/Scalos.prefs CLONE
ELSE
  copy SYS:Prefs/Env-Archive/Scalos/Scalos.prefs DH1:MyFiles/Install/A4000P96/Icons/Enable/Prefs/Env-Archive/Scalos/Scalos.prefs CLONE 
EndIF  
  




  cls
 


IF EXISTS SYS:System/FBlit/FBlit 
  copy SYS:Prefs/Env-Archive/Scalos/Scalos.prefs DH1:MyFiles/Install/A1200ADVSP/Icons/Enable/Prefs/Env-Archive/Scalos/Scalos.prefs CLONE
ELSE
  copy SYS:Prefs/Env-Archive/Scalos/Scalos.prefs DH1:MyFiles/Install/A4000P96/Icons/Enable/Prefs/Env-Archive/Scalos/Scalos.prefs CLONE 
EndIF



LAB DISABLE

  delete >NIL: SYS:Temp/oldicons.zip
  wait 2

LAB COPPER






  cls

  execute >NIL: SYS:Temp/Copper_enable
  echo ""
  echo "Copper support installed."
  echo ""
  delete >NIL: SYS:Temp/Copper_enable
  
  


  cls
  echo ""
  echo "Optimising ClassicWB this will take a few minutes..."

  resident C:Protect PURE
  resident C:Filenote PURE
  

  filenote DH0:#? ALL QUIET
  protect FONTS:#? +RWED ALL QUIET
  SYS:System/FixFonts





  delete >NIL: SYS:Temp ALL

  



cls

echo "KickPi-OS ClassicWB"
echo "Installation Complete!"
echo ""
echo "Check the website documentation for details of the"
echo "multiboot and multi-partition features, large HD >4GB"
echo "support and how to add WHDLoad games."
echo ""
echo "The MyFiles/Install drawer contains many useful addons"
echo "including PeterKs PNG OS35+ Icon Support, SFS, Network"
echo "CDROM drivers and more."
echo ""
echo "Also check out the Settings->Components menu to access"
echo "more options like ENV Handler, BlazeWPC, IconBeFast,"
echo "TinyMeter, TagLiFE, PatchRAM and StickyRMB."
echo ""
ask "Please Press F12 and Reset."
SKIP FINISH BACK
